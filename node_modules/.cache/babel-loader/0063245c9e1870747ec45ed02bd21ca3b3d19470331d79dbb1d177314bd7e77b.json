{"ast":null,"code":"import _toConsumableArray from\"/Users/yyu/Downloads/Decertaion_edinburgh_napier_university-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/yyu/Downloads/Decertaion_edinburgh_napier_university-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";// import { CSVLink } from \"react-csv\";\nimport\"./Stu_record.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Stu_record(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];var handleFileUpload=function handleFileUpload(event){var file=event.target.files[0];var reader=new FileReader();reader.readAsText(file);reader.onload=function(){var data=reader.result;var students=data.split(\"\\n\").map(function(row){var _row$split=row.split(\",\"),_row$split2=_slicedToArray(_row$split,2),id=_row$split2[0],name=_row$split2[1];return{id:id,name:name,email:\"\".concat(id,\"@live.napier.ac.uk\"),appliedProjects:\"\",assignedProject:\"\"};});setStudents(students);};};var handleProjectSelection=function handleProjectSelection(event,student){student.appliedProjects=event.target.value;setStudents(_toConsumableArray(students));};var handleProjectAssignment=function handleProjectAssignment(event,student){student.assignedProject=event.target.value;setStudents(_toConsumableArray(students));};var headers=[{label:\"ID\",key:\"id\"},{label:\"Name\",key:\"name\"},{label:\"Email\",key:\"email\"},{label:\"Applied Projects\",key:\"appliedProjects\"},{label:\"Assigned Project\",key:\"assignedProject\"}];return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edinburgh Napier University\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Student Record Page\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Module Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Module ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileUpload}),students.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:headers.map(function(header){return/*#__PURE__*/_jsx(\"th\",{children:header.label},header.key);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:students.map(function(student){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:student.id}),/*#__PURE__*/_jsx(\"td\",{children:student.name}),/*#__PURE__*/_jsx(\"td\",{children:student.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:student.appliedProjects,onChange:function onChange(event){return handleProjectSelection(event,student);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select Project--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Project A\",children:\"Project A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Project B\",children:\"Project B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Project C\",children:\"Project C\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{defaultValue:student.assignedProject,onChange:function onChange(event){return handleProjectAssignment(event,student);}})})]},student.id);})})]}),/*#__PURE__*/_jsx(CSVLink,{data:students,headers:headers,filename:\"student_allocation.csv\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Export CSV\"})})]}),students.length===0&&/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:headers.map(function(header){return/*#__PURE__*/_jsx(\"th\",{children:header.label},header.key);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:5,children:\"No data available\"})})})]})]});}export default Stu_record;","map":{"version":3,"names":["React","useState","Stu_record","students","setStudents","handleFileUpload","event","file","target","files","reader","FileReader","readAsText","onload","data","result","split","map","row","id","name","email","appliedProjects","assignedProject","handleProjectSelection","student","value","handleProjectAssignment","headers","label","key","length","header"],"sources":["/Users/yyu/Downloads/Decertaion_edinburgh_napier_university-master/src/components/Stu_record.js"],"sourcesContent":["import React, { useState } from \"react\";\n// import { CSVLink } from \"react-csv\";\nimport \"./Stu_record.css\";\n\n\nfunction Stu_record() {\n  const [students, setStudents] = useState([]);\n\n  const handleFileUpload = (event) => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.readAsText(file);\n    reader.onload = () => {\n      const data = reader.result;\n      const students = data.split(\"\\n\").map((row) => {\n        const [id, name] = row.split(\",\");\n        return {\n          id,\n          name,\n          email: `${id}@live.napier.ac.uk`,\n          appliedProjects: \"\",\n          assignedProject: \"\",\n        };\n      });\n      setStudents(students);\n    };\n  };\n\n  const handleProjectSelection = (event, student) => {\n    student.appliedProjects = event.target.value;\n    setStudents([...students]);\n  };\n\n  const handleProjectAssignment = (event, student) => {\n    student.assignedProject = event.target.value;\n    setStudents([...students]);\n  };\n\n  const headers = [\n    { label: \"ID\", key: \"id\" },\n    { label: \"Name\", key: \"name\" },\n    { label: \"Email\", key: \"email\" },\n    { label: \"Applied Projects\", key: \"appliedProjects\" },\n    { label: \"Assigned Project\", key: \"assignedProject\" },\n  ];\n\n  return (\n    <div className=\"container\">\n    <h1>Edinburgh Napier University</h1> \n    <h2>Student Record Page</h2>\n    <form>\n      <label>Module Title:\n        <input type=\"text\" />\n      </label>\n      <label>Module ID:\n        <input type=\"text\" />\n      </label>\n    </form>\n   \n      <input type=\"file\" onChange={handleFileUpload} />\n      {students.length > 0 && (\n        <>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                {headers.map((header) => (\n                  <th key={header.key}>{header.label}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {students.map((student) => (\n                <tr key={student.id}>\n                  <td>{student.id}</td>\n                  <td>{student.name}</td>\n                  <td>{student.email}</td>\n                  <td>\n                    <select\n                      value={student.appliedProjects}\n                      onChange={(event) =>\n                        handleProjectSelection(event, student)\n                      }\n                    >\n                      <option value=\"\">--Select Project--</option>\n                      <option value=\"Project A\">Project A</option>\n                      <option value=\"Project B\">Project B</option>\n                      <option value=\"Project C\">Project C</option>\n                    </select>\n                  </td>\n                  <td>\n                    <input\n                      defaultValue={student.assignedProject}\n                      onChange={(event) =>\n                        handleProjectAssignment(event, student)\n                      }\n                    />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <CSVLink data={students} headers={headers} filename=\"student_allocation.csv\" >\n           <button>Export CSV</button> \n          </CSVLink>\n          \n        </>\n      )}\n       {students.length === 0 && (\n        <table border=\"1\">\n          <thead>\n            <tr>\n              {headers.map((header) => (\n                <th key={header.key}>{header.label}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td colSpan={5}>No data available</td>\n            </tr>\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n\nexport default Stu_record;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}